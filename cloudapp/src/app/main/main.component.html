
<button *ngIf="numRecordsToPrint > 0"
  class="float-right" mat-stroked-button color="primary" (click)="onPrintPreviewNewTab()">
  Print {{numRecordsToPrint}} records
</button>
<button *ngIf="numRecordsToPrint > 0"
  class="float-right" mat-stroked-button color="primary" (click)="onClearSelected()">
  Clear
</button>

<p></p>
<div *ngIf="this.bibEntities.length > 0; else nobib">

  <h3>Select record(s) to print:</h3>
  <div *ngFor="let entity of bibEntities" id="list-of">
    <mat-checkbox [value]="entity.id"
    (change)="onListChanged($event)" [checked]="bibHash[entity.id]" 
    >{{entity.description}}</mat-checkbox>
  </div> 

  <section *ngIf="formattedRecord">
    <p></p>
    <h3>Preview of the last selected record:</h3>
    <ul>
      <li><strong>MMS ID: </strong>{{ bib.mms_id }}</li>
      <li><strong>Title: </strong>{{ bib.title }}</li>
      <li><strong>Author: </strong>{{ bib.author }}</li>
    </ul>
    <div id="record-preview" [innerHTML]="formattedRecord"></div>
  </section>
</div>

<ng-template #nobib>
  <p>Please search for bib records or items</p>
</ng-template>

<!--Debug: 
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
<hr/>
Debug:
<textarea #htmlTextArea [value]="formattedRecord"></textarea>
<section>
  <mat-card class="example-card">
    <mat-card-header>
      <mat-card-title>Page Entity</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <pre>{{ pageEntities | json }}</pre>
    </mat-card-content>
  </mat-card>
</section>
-->